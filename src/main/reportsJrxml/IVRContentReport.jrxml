<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="IVRContentReport" language="groovy" pageWidth="1000" pageHeight="842" columnWidth="960" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="e7ee7ae9-4b8d-479a-a4db-997bf56986dd">
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.1" value="pageFooter"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.2" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.3" value="title"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="StartDate" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="EndDate" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select 'Job Aid' as "Mobile Service",jd.file_name as "File Name",(case when short_code::text is null or short_code::text ='' then '5771101' else short_code::text end) as "Short Code", sum(case when jm.percentage >= 0 and jm.percentage <25 then 1 else 0 end) as "<25%",sum(case when jm.percentage >= 25 and jm.percentage <50 then 1 else 0 end) as "25-50%",sum(case when jm.percentage >= 50 and jm.percentage <75 then 1 else 0 end) as
 "50-75%",sum(case when jm.percentage >= 75 and jm.percentage <100 then 1 else 0 end) as "75-100%",sum(case when jm.percentage=100 then 1 else 0 end) as "100%",count(*) as "Total Accessed Count" from report.job_aid_content_dimension jd,report.job_aid_content_measure jm,report.time_dimension td, report.front_line_worker_dimension flw where td.id= jm.time_id and flw.id = jm.flw_id and jm.job_aid_content_id = jd.id and jd.type = 'Audio' and td.date >= $P{StartDate} and td.date <= $P{EndDate}  group by jd.file_name,short_code,1
 union all
 select 'IVR Certification' as "Mobile Service",jd.file_name as "File Name",'5771102' as "Short Code",sum(case when jm.percentage >= 0 and jm.percentage <25 then 1 else 0 end) as "<25%",sum(case when jm.percentage >= 25 and jm.percentage <50 then 1 else 0 end) as "25-50%",sum(case when jm.percentage >= 50 and jm.percentage <75 then 1 else 0 end) as "50-75%",sum(case when jm.percentage >= 75 and jm.percentage <100 then 1 else 0 end) as "75-100%",sum(case when jm.percentage=100 then 1 else 0 end) as "100%",count(*) as "Total Accessed Count" from report.course_item_dimension jd,report.course_item_measure jm,report.time_dimension td,report.front_line_worker_dimension flw where td.id= jm.time_id and flw.id = jm.flw_id and jm.course_item_id = jd.id and jd.type = 'AUDIO' and td.date >= $P{StartDate} and td.date <= $P{EndDate} group by 1,2,3]]>
	</queryString>
	<field name="Mobile Service" class="java.lang.String"/>
	<field name="File Name" class="java.lang.String"/>
	<field name="Short Code" class="java.lang.String"/>
	<field name="&lt;25%" class="java.lang.Long"/>
	<field name="25-50%" class="java.lang.Long"/>
	<field name="50-75%" class="java.lang.Long"/>
	<field name="75-100%" class="java.lang.Long"/>
	<field name="100%" class="java.lang.Long"/>
	<field name="Total Accessed Count" class="java.lang.Long"/>
	<background>
		<band/>
	</background>
	<title>
		<band height="72">
			<frame>
				<reportElement uuid="0738bcf5-3c6c-48f4-98cf-5d79beda38f8" mode="Opaque" x="-20" y="-20" width="1001" height="92" backcolor="#006699"/>
				<staticText>
					<reportElement uuid="f3cd6b73-a8e3-4131-96fe-f486f86dbf54" x="20" y="20" width="322" height="43" forecolor="#FFFFFF"/>
					<textElement verticalAlignment="Middle">
						<font size="24" isBold="true"/>
					</textElement>
					<text><![CDATA[IVR Content Report]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="6b4747a5-3154-4c0d-a0d1-780af0a7c3f2" x="20" y="63" width="563" height="20" forecolor="#FFFFFF"/>
					<textElement verticalAlignment="Middle">
						<font size="14" isBold="false"/>
					</textElement>
					<text><![CDATA[Content-wise percentage and total usage for Kunji and Academy]]></text>
				</staticText>
			</frame>
		</band>
	</title>
	<pageHeader>
		<band height="13"/>
	</pageHeader>
	<columnHeader>
		<band height="40">
			<staticText>
				<reportElement uuid="e92ed4d8-7691-4223-af96-14916c0fcc57" mode="Opaque" x="0" y="0" width="115" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Mobile Service]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="8a7171d4-5833-491b-8b8a-7a51e53f8c62" mode="Opaque" x="115" y="0" width="179" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[File Name]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="28607da0-75f5-4565-88c3-275c940be0f4" mode="Opaque" x="294" y="0" width="81" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Short Code]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="d87b362e-a317-4bb6-99f4-cc5479f45fe3" mode="Opaque" x="375" y="0" width="64" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[<25%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7d110511-15a2-40b9-8477-f0e5846ba2f2" mode="Opaque" x="439" y="0" width="88" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[25-50%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="eb39695f-3973-4e6a-ac0a-28cd86e4d196" mode="Opaque" x="527" y="0" width="113" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[50-75%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1386ca78-f48f-4dfd-bc85-78920ca5cb3a" mode="Opaque" x="640" y="0" width="90" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[75-100%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7164c73d-a193-40d8-8c7f-ed2c3333454f" mode="Opaque" x="730" y="0" width="90" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[100%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1f9e786a-71c0-4ba7-9e87-b10792a4a307" mode="Opaque" x="820" y="0" width="140" height="40" forecolor="#006699" backcolor="#E6E6E6"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Total Accessed Count]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="36">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="4cea61ec-6229-4a4f-8e70-d4b0cfc8663a" x="0" y="0" width="115" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Mobile Service}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="772c44e6-393c-4ce8-8cd7-0b135a7299d7" x="115" y="0" width="179" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{File Name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7fb292df-414b-4a24-b195-ed98f1316c1d" x="294" y="0" width="81" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Short Code}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7b06adcf-2ccb-456d-b21a-0bd2af1694a7" x="375" y="0" width="64" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{<25%}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="338732c3-e5f9-4423-9e9a-595ab9101865" x="439" y="0" width="88" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{25-50%}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="5c340596-e2c5-4645-9886-6b326828a226" x="527" y="0" width="113" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{50-75%}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7363c719-e5a7-48f4-8454-bb28ecadc30d" x="640" y="0" width="90" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{75-100%}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="df09b411-887d-422b-a636-774c98b532fa" x="730" y="0" width="90" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{100%}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="27805cf8-9af4-46e6-8ef5-4cc8f4d37536" x="820" y="0" width="140" height="36"/>
				<box>
					<pen lineWidth="0.5" lineColor="#999999"/>
					<topPen lineWidth="0.5" lineColor="#999999"/>
					<leftPen lineWidth="0.5" lineColor="#999999"/>
					<bottomPen lineWidth="0.5" lineColor="#999999"/>
					<rightPen lineWidth="0.5" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Total Accessed Count}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="17">
			<textField>
				<reportElement uuid="08b2b4a2-c6bc-4bfa-882e-83e06207280b" mode="Opaque" x="0" y="4" width="920" height="13" backcolor="#E6E6E6"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement uuid="e8b08a91-6d80-4b20-909a-dfc134395750" mode="Opaque" x="920" y="4" width="40" height="13" backcolor="#E6E6E6"/>
				<textElement/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement uuid="2d960390-2739-417b-809e-946fafae2763" x="0" y="4" width="294" height="13"/>
				<textElement/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
